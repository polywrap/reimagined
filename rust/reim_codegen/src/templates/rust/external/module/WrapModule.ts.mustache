use reim_wrap::{ ExternalModule };
use ImportBindings;

{{#globalFunctions.list}}
{{#model.isExternal}}
import { create as create{{model.namePascalCase}} } from "../global-functions/{{model.name}}";
{{/model.isExternal}}
{{/globalFunctions.list}}
{{#types}}
{{#model.isExternal}}
import { create as create{{model.name}} } from "../classes/{{model.name}}";
{{/model.isExternal}}
{{/types}}

struct WrapModule {}

impl WrapModule {
  static wrapInstance: Option<Box<dyn ExternalModule>>;

  static connect(instance: dyn ExternalModule) {
    WrapModule.wrapInstance = Box::new(instance);
  }

  static import(instance: dyn ExternalModule) -> ImportBindings {
    ImportBindings.new(
      {{#globalFunctions.list}}
      {{#model.isExternal}}
      create{{model.namePascalCase}}(instance),
      {{/model.isExternal}}
      {{/globalFunctions.list}}
      {{#types}}
      {{#model.isExternal}}
      create{{model.name}}(instance),
      {{/model.isExternal}}
      {{/types}}
    )
  }
}
